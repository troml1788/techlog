### 本节课程大纲总结

1.  **核心概念对比**：上升沿/下降沿触发与普通常态触点在触发方式、信号持续时间和应用场景上的根本区别。
2.  **典型案例分析**：深入剖析使用上升沿指令实现的“单按钮启停”电路的程序逻辑、功能目标及优势。
3.  **底层原理阐释**：结合典型案例，详细讲解PLC的扫描周期（从左到右、从上到下）以及线圈与触点状态在扫描周期中的交互规律。
4.  **实践与应用**：通过程序下载演示和分步扫描过程推演，将理论知识与实际运行效果相结合，加深理解。

---

### 节点归纳总结

#### 1. 上升沿和下降沿与普通按钮的区别

| 特性 | 普通常态触点 | 上升沿触点 | 下降沿触点 |
| :--- | :--- | :--- | :--- |
| **触发方式** | 电平触发 | 边沿触发 | 边沿触发 |
| **信号状态** | 只要输入信号为ON（按下），触点就一直保持接通状态。 | 仅在输入信号**从OFF变为ON（0→1）的瞬间**接通。 | 仅在输入信号**从ON变为OFF（1→0）的瞬间**接通。 |
| **接通时间** | 整个信号ON期间持续接通。 | **仅一个扫描周期**。 | **仅一个扫描周期**。 |
| **形象比喻** | 按住开关不放，灯一直亮。 | **按一下快门**，只拍照一次，按住不放不会连续拍。 | 松开快门的瞬间动作。 |
| **应用与影响** | 适用于需要持续控制的场景。若用于启停，在信号故障时可能导致设备意外重启。 | **避免因信号抖动或持续接通引起的误动作**，特别适用于计数器、状态切换（如单按钮启停）等需要单次触发的场景。 | 用于检测信号关闭的瞬间。 |

**纪要补充**：普通触点关注的是“状态”，而边沿触点关注的是“变化”。

#### 2. 单按钮启停电路

*   **功能目标**：使用**一个**按钮（如X0），实现“按一下启动，再按一下停止”的交替控制功能，节省I/O点数。
*   **实现核心**：利用**上升沿指令**捕捉按钮按下的瞬间动作，结合中间继电器（如M0）和输出线圈（如Y0）的触点构成**状态保持（自锁）和切换**逻辑。
*   **关键逻辑**：程序通过巧妙的触点组合（Y0的常开和常闭触点），使得每次按钮的上升沿信号都能翻转Y0的输出状态（ON变OFF，或OFF变ON）。
*   **优势**：使用上升沿触发，确保无论按钮按下多久，都只视为一次有效操作，可靠性高。
![](./assets/gifs/OneButtonStartEnd.gif)
#### 3. 扫描并联串联线路规律总结

PLC执行程序遵循**循环扫描**机制，其规律可总结为：

1.  **顺序原则**：**从上到下，从左到右**。PLC像阅读文章一样逐行、逐条指令地执行程序。
2.  **实时性原则**：在一个扫描周期内，**线圈的通断状态的变化，会立即影响其后续所有同名触点的状态**。
    *   线圈得电（ON） → 其**常开触点**在本周期后续逻辑中**闭合（ON）**，其**常闭触点** **断开（OFF）**。
    *   线圈失电（OFF） → 其**常开触点**在本周期后续逻辑中**断开（OFF）**，其**常闭触点** **闭合（ON）**。
3.  **状态保持原则**：如果在一个扫描周期内，某线圈没有被任何逻辑驱动，则它将**保持上一个扫描周期结束时的状态**。

**纪要补充**：理解“当前扫描周期的操作结果，会影响下一个扫描周期的初始状态”是分析复杂逻辑的关键。

#### 4. 单按钮启停电路的扫描过程

以下是对该程序运行过程的分步推演，重点体现了上述扫描规律：

1.  **初始状态（按钮未按）**：
    *   X0=OFF，M0=OFF，Y0=OFF。
    *   所有触点保持常态。

2.  **第一次按下X0（第一个扫描周期）**：
    *   X0产生上升沿，接通M0线圈。
    *   M0线圈得电 → **立即**使其所在行之后的M0常开触点闭合（为下一周期做准备）。
    *   扫描到Y0支路：由于Y0初始为OFF，其常闭触点闭合，M0的上升沿信号通过Y0的常闭触点，使Y0线圈得电。
    *   **周期结束时**：M0=ON，Y0=ON。Y0的常开触点准备闭合，常闭触点准备断开。

3.  **第一个扫描周期后，按钮仍按住（第二个扫描周期）**：
    *   X0仍为ON，但**上升沿已过**，M0线圈失电（OFF）。
    *   M0线圈失电 → 其常开触点恢复断开。
    *   扫描到Y0支路：此时，Y0的常开触点因上一周期Y0=ON而已闭合，形成**自锁通路**，因此即使M0已失电，Y0线圈仍通过自身的常开触点保持得电。
    *   **结果**：Y0维持ON，设备保持运行。M0仅作为一个瞬态触发器。

4.  **第二次按下X0（新的第一个扫描周期）**：
    *   X0再次产生上升沿，接通M0线圈。
    *   M0线圈得电 → 其常闭触点**立即断开**。
    *   扫描到Y0支路：此时，Y0的常闭触点因Y0之前为ON而已断开，现在M0的常闭触点也断开。Y0的两条供电通路全部被切断，Y0线圈失电。
    *   **周期结束时**：M0=ON，Y0=OFF。自锁被解除。

5.  **后续周期**：过程类似，Y0状态完成了一次翻转（从ON到OFF）。第三次按下将再次翻转，实现循环启停。

这个动态过程清晰地展示了PLC如何通过扫描周期和触点状态的瞬时变化，实现复杂的逻辑控制。