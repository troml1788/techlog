### **本节课程大纲总结**

**课程主题：** PLC接通延时定时器的应用——Y-△降压启动控制
**核心目标：** 掌握使用PLC的接通延时定时器设计时序控制逻辑，并完成一个典型的工业应用案例（Y-△降压启动）的程序编写。

**大纲结构：**
1.  **知识点引入：** 介绍Y-△降压启动的原理、目的（降低启动电流）和基本控制过程。
2.  **硬件设计：** 明确PLC输入/输出点（I/O）分配以及外部接触器（KM0, KM1, KM2）的作用。
3.  **编程实践：** 详细分析控制程序的逻辑，重点讲解如何使用定时器实现“启动延时”和“切换互锁延时”。
4.  **要点总结与扩展：** 强调硬件安全互锁的重要性，并讨论不同PLC输出类型（晶体管型）的驱动方案。

---

### **根据节点归纳总结**

#### **1. 星三角降压启动介绍**

*   **目的：** 解决大功率三相异步电动机直接启动时，启动电流过大（可达额定电流的5-7倍）对电网和设备造成冲击的问题。
*   **原理：** 通过改变电动机绕组的接法来降低启动电压，从而减小启动电流。
    *   **启动时（Y形接法）：** 绕组电压降至额定电压的约57%，启动电流和转矩均降至直接启动的1/3。
    *   **运行时（△形接法）：** 绕组承受额定电压，电机进入正常运行状态。
*   **价值：** 是一种经济、简单的降压启动方式，在工业中应用广泛。

#### **2. 星三角降压启动过程**

控制过程分为清晰的几个阶段，**两级延时**是确保安全可靠切换的关键：

1.  **启动阶段：**
    *   按下启动按钮（X0），主接触器KM0（Y0）和Y形接触器KM1（Y1）同时得电吸合。
    *   电机绕组以Y形接法通电，开始降压启动。
    *   **同时，PLC启动一个10秒的接通延时定时器（T0）开始计时。**

2.  **切换准备阶段（第一级延时）：**
    *   10秒计时到，定时器T0动作（其对应的触点M0接通）。
    *   M0的常闭触点首先断开Y形接触器KM1（Y1），使其线圈失电。**（关键点1：先断开Y形）**

3.  **切换执行阶段（第二级延时）：**
    *   **在断开KM1后，立即启动一个1秒的延时定时器（T1）。** 这1秒的等待是为了确保KM1触头有足够的时间完全断开，电弧熄灭。
    *   1秒计时到，定时器T1动作（其对应的触点M1接通）。
    *   M1的常开触点接通△形接触器KM2（Y2）。**（关键点2：延时后再接通△形）**
    *   电机转入△形接法全压运行。

4.  **停止阶段：**
    *   按下停止按钮（X1），所有输出（Y0, Y1, Y2）失电，电机停止运行。

**硬件安全互锁：** 除了程序逻辑，在硬件电路上必须确保KM1和KM2的常闭触点互相串入对方的线圈回路中，形成电气互锁，防止两者因故障同时吸合导致电源短路。

#### **3. 编程思路分析（量化每一步的思维）**

编程思维可以分解为以下清晰的、可量化的步骤：

| 步骤 | 编程思维（动作意图） | 具体实现（软元件/逻辑） | 量化参数/说明 |
| :--- | :--- | :--- | :--- |
| **1. 启动与自锁** | 响应启动信号，并保持运行状态。 | `X0`（启动按钮）的上升沿触发，使`Y0`（KM0主接触器）线圈得电，并通过`Y0`的常开触点实现自锁。 | 这是最基本的“启-保-停”电路。 |
| **2. 启动Y形运行** | 在启动的同时，接通Y形接法。 | 在`Y0`得电的同时，并行接通`Y1`（KM1，Y形接触器）线圈。 | `Y0`和`Y1`是同时输出的。 |
| **3. 启动延时计时** | 开始计算Y形启动的持续时间。 | 利用`Y0`的常开触点作为条件，启动一个接通延时定时器`T0`。 | 设定值：`K10000`（10秒）。<br>目的：让电机在Y形下加速到接近额定转速。 |
| **4. 准备切换（状态转换）** | 10秒后，发出切换指令。 | 定时器`T0`计时到，其对应的辅助继电器`M0`线圈得电。 | `M0`是一个中间状态标志，表示“10秒延时已到，准备切换”。 |
| **5. 断开Y形（关键动作1）** | 确保先断开Y形回路。 | 使用`M0`的**常闭触点**串联在`Y1`（KM1）的输出线圈回路中。当`M0`得电，其常闭触点断开，从而切断`Y1`。 | **思维核心：** 利用常闭触点的“断”功能实现安全第一步。必须优先执行。 |
| **6. 切换互锁延时** | 等待Y形接触器完全断开。 | 利用`M0`的**常开触点**启动第二个接通延时定时器`T1`。 | 设定值：`K1000`（1秒）。<br>目的：提供硬件动作的缓冲时间，防止电弧未熄就合上△形。 |
| **7. 接通△形（关键动作2）** | 在安全延时后，接通△形运行。 | 定时器`T1`计时到，其对应的`M1`线圈得电。使用`M1`的常开触点控制`Y2`（KM2，△形接触器）输出。 | **思维核心：** 两级定时器级联，精准控制动作间隔。 |
| **8. 停止控制** | 随时响应停止信号。 | 将`X1`（停止按钮）的**常闭触点**串联在总控制逻辑的最前端。按下`X1`，切断`Y0`的自锁，整个系统失电复位。 | 停止信号具有最高优先级。 |

![](./assets/gifs/StartAngle.gif)

**注意：在给第二个定时器添加计时值后，出现了如下异常现象，不清楚是不是仿真的bug**
![](./assets/gifs/ERROR/ERROR_StartAngle1.gif)
前后**软元件**表的数值是正常的，只是在计时器上显示不正常
![](./assets/gifs/ERROR/ERROR_StartAngle2.gif)
**补充说明（来自学霸同学）：**
*   **硬件驱动：** 若PLC为晶体管输出型（如H5U），其输出电流较小，需通过驱动外部中间继电器，再由中间继电器控制大电流的交流接触器线圈。
*   **程序监控：** 在编程软件中可实时监控定时器的当前值（Current Value），便于调试和观察程序运行状态。