## 本次课程大纲

1.  **核心概念：** 上升沿与下降沿的定义与触发原理
2.  **应用场景：** 起保停控制、故障保护、产品计数等
3.  **编程指令：** 基本指令格式、常用写法（LDP/LDF 与 指令+P）
4.  **技术细节：** 操作数类型、信号的生命周期（扫描周期）
5.  **特殊应用：** 在产品计数等场景中解决误触发问题的原理

---

## 课堂简记归纳与补充

### 1. 什么是上升沿和下降沿？

*   **上升沿：** 指信号从 **OFF（0/断开）** 状态转变为 **ON（1/接通）** 状态的 **瞬间**。例如：按下常开按钮的瞬间。
*   **下降沿：** 指信号从 **ON（1/接通）** 状态转变为 **OFF（0/断开）** 状态的 **瞬间**。例如：松开常开按钮的瞬间。
*   **核心特征：** 它们不是持续的状态，而是状态变化的**瞬时触发点**，其持续时间对应一个**PLC扫描周期**。
![](./assets/gifs/LDP&LDF.gif)
### 2. 它们的应用场景

*   **起保停控制/故障保护：**
    *   **问题：** 使用普通常开触点，如果启动按钮发生故障粘连（一直接通），会导致设备无法停止。
    *   **解决方案：** 使用启动信号的**上升沿**。它只在按钮按下的第一个扫描周期内触发，即使按钮卡住，也不会持续产生启动信号，从而实现了更可靠的控制。
*   **产品计数：**
    *   **问题：** 使用普通常开触点（如X0）检测产品，由于产品经过传感器需要时间，在一个扫描周期极短的PLC中，会导致一个产品被重复计数多次。
    *   **解决方案：**
        *   **上升沿计数：** 在产品**刚进入**感应区的瞬间计数一次。
        *   **下降沿计数：** 在产品**完全离开**感应区的瞬间计数一次。
    *   **效果：** 确保每个产品只被准确计数一次。

### 3. 它们的输入指令

*   **基本指令形式：**
    *   `LDP`：上升沿检测指令。例如：`LDP X0`
    *   `LDF`：下降沿检测指令。例如：`LDF X0`
*   **另一种常用写法（脉冲执行）：**
    *   在普通指令后加后缀 `P`，表示该指令在条件满足的上升沿脉冲执行。例如：`MOVP` 表示在触发条件出现上升沿时，执行一次数据传送。

### 4. 它们的操作数

*   **可用操作数类型：** 输入点（`X`）、输出点（`Y`）、中间继电器（`M`）、顺控继电器（`S`）等。
*   **注意：** 虽然编写格式与常开触点（`LD`）相似，但逻辑效果完全不同。`LD`是持续导通，而`LDP`/`LDF`只产生瞬时脉冲。

### 5. PLS和PLF是什么？

*   **（此为重要补充内容）** 在课堂简记中提到的“线圈指令+脉冲执行”通常指的就是`PLS`（上升沿脉冲）和`PLF`（下降沿脉冲）指令。
    *   `PLS`：当驱动条件出现**上升沿**时，使指定的操作数（如`M0`）在一个扫描周期内为ON。
    *   `PLF`：当驱动条件出现**下降沿**时，使指定的操作数（如`M1`）在一个扫描周期内为ON。
*   它们与`LDP`/`LDF`的区别在于，`LDP`/`LDF`通常用作**条件触点**，而`PLS`/`PLF`是用于驱动一个**线圈**产生脉冲。
![](./assets/gifs/PLS&PLF.gif)
### 6. 生命周期

*   **生命周期：** 上升沿和下降沿信号的有效期**只有一个PLC扫描周期**。
*   **触发条件：** 只有在对应地址的信号状态**发生改变**（OFF→ON 或 ON→OFF）时，才会在变化发生的那个扫描周期内产生边沿信号。如果信号状态保持不变，则不会产生新的边沿。

### 7. 特殊应用场合讲解

*   **核心原理：** 利用边沿信号的**瞬时性**来替代普通信号的**持续性**，以解决因扫描机制导致的误触发、重复执行等问题。
*   **主要场合：**
    *   **产品计数：** 如上所述，避免因传感器信号持续时间长而导致的重复计数。
    *   **单次动作控制：** 如设备的点动、模式的切换等，确保一个按钮动作只执行一次操作，防止长信号带来的意外。
    *   **故障安全设计：** 如在起保停电路中，防止按钮故障导致的系统失控，提升可靠性。